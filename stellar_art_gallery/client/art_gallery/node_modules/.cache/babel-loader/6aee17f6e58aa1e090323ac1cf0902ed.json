{"ast":null,"code":"import StellarSdk from \"stellar-sdk\";\nexport async function createAccount() {\n  const pair = StellarSdk.Keypair.random();\n  /*\n  console.log(\"publickey\", pair.publicKey());\n  console.log(\"secret\", pair.secret());\n  console.log(\"created pair: \", pair);\n  //Fund account. (This only works for the stellar test network)\n  return Promise.resolve({\n    publickey: pair.publicKey(),\n    secret: pair.secret(),\n  });\n  */\n\n  try {\n    const response = await fetch(`https://friendbot.stellar.org?addr=${encodeURIComponent(pair.publicKey())}`);\n    const responseJSON = await response.json();\n    console.log(\"SUCCESS! You have a new account :)\\n\", responseJSON);\n    return {\n      publickey: pair.publicKey(),\n      secret: pair.secret()\n    };\n  } catch (e) {\n    console.error(\"ERROR!\", e);\n  }\n  /*\n  return fetch(\n    `https://friendbot.stellar.org?addr=${encodeURIComponent(\n      pair.publicKey()\n    )}`,\n    { mode: \"cors\" }\n  )\n    .then(function (fund_account_response) {\n      return {\n        publickey: pair.publicKey(),\n        secret: pair.secret(),\n      };\n    })\n    .catch(function (error) {\n      console.log(\"Failed!\", error);\n    });\n    */\n\n}\nexport async function getAccountBalance(account) {\n  const server = new StellarSdk.Server(\"https://horizon-testnet.stellar.org\");\n  const account_response = await server.loadAccount(account);\n  return {\n    balance: account_response.balances[0].balance\n  };\n}","map":{"version":3,"sources":["/home/gunstein/koding/stellar_testing/stellar_art_gallery/client/art_gallery/src/services/stellar.js"],"names":["StellarSdk","createAccount","pair","Keypair","random","response","fetch","encodeURIComponent","publicKey","responseJSON","json","console","log","publickey","secret","e","error","getAccountBalance","account","server","Server","account_response","loadAccount","balance","balances"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,aAAvB;AAEA,OAAO,eAAeC,aAAf,GAA+B;AACpC,QAAMC,IAAI,GAAGF,UAAU,CAACG,OAAX,CAAmBC,MAAnB,EAAb;AACA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEE,MAAI;AACF,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CACzB,sCAAqCC,kBAAkB,CACtDL,IAAI,CAACM,SAAL,EADsD,CAEtD,EAHwB,CAA5B;AAKA,UAAMC,YAAY,GAAG,MAAMJ,QAAQ,CAACK,IAAT,EAA3B;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,sCAAZ,EAAoDH,YAApD;AACA,WAAO;AACLI,MAAAA,SAAS,EAAEX,IAAI,CAACM,SAAL,EADN;AAELM,MAAAA,MAAM,EAAEZ,IAAI,CAACY,MAAL;AAFH,KAAP;AAID,GAZD,CAYE,OAAOC,CAAP,EAAU;AACVJ,IAAAA,OAAO,CAACK,KAAR,CAAc,QAAd,EAAwBD,CAAxB;AACD;AAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACC;AAED,OAAO,eAAeE,iBAAf,CAAiCC,OAAjC,EAA0C;AAC/C,QAAMC,MAAM,GAAG,IAAInB,UAAU,CAACoB,MAAf,CAAsB,qCAAtB,CAAf;AACA,QAAMC,gBAAgB,GAAG,MAAMF,MAAM,CAACG,WAAP,CAAmBJ,OAAnB,CAA/B;AACA,SAAO;AAAEK,IAAAA,OAAO,EAAEF,gBAAgB,CAACG,QAAjB,CAA0B,CAA1B,EAA6BD;AAAxC,GAAP;AACD","sourcesContent":["import StellarSdk from \"stellar-sdk\";\n\nexport async function createAccount() {\n  const pair = StellarSdk.Keypair.random();\n  /*\n  console.log(\"publickey\", pair.publicKey());\n  console.log(\"secret\", pair.secret());\n  console.log(\"created pair: \", pair);\n  //Fund account. (This only works for the stellar test network)\n  return Promise.resolve({\n    publickey: pair.publicKey(),\n    secret: pair.secret(),\n  });\n  */\n\n  try {\n    const response = await fetch(\n      `https://friendbot.stellar.org?addr=${encodeURIComponent(\n        pair.publicKey()\n      )}`\n    );\n    const responseJSON = await response.json();\n    console.log(\"SUCCESS! You have a new account :)\\n\", responseJSON);\n    return {\n      publickey: pair.publicKey(),\n      secret: pair.secret(),\n    };\n  } catch (e) {\n    console.error(\"ERROR!\", e);\n  }\n\n  /*\n  return fetch(\n    `https://friendbot.stellar.org?addr=${encodeURIComponent(\n      pair.publicKey()\n    )}`,\n    { mode: \"cors\" }\n  )\n    .then(function (fund_account_response) {\n      return {\n        publickey: pair.publicKey(),\n        secret: pair.secret(),\n      };\n    })\n    .catch(function (error) {\n      console.log(\"Failed!\", error);\n    });\n    */\n}\n\nexport async function getAccountBalance(account) {\n  const server = new StellarSdk.Server(\"https://horizon-testnet.stellar.org\");\n  const account_response = await server.loadAccount(account);\n  return { balance: account_response.balances[0].balance };\n}\n"]},"metadata":{},"sourceType":"module"}