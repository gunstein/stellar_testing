{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/gunstein/koding/stellar_testing/stellar_art_gallery/client/art_gallery/src/components/OrderForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport { createOrder } from \"../services/order\";\nexport default function FormDialog({\n  handleCloseToParent,\n  tile\n}) {\n  _s();\n\n  //const [open, setOpen] = React.useState(false);\n  const [emailInput, setEmailInput] = useState(\"\");\n  const [payMode, setPayMode] = useState(false);\n  const [targetAccount, setTargetAccount] = useState(\"\");\n  const [targetMemo, setTargetMemo] = useState(\"\");\n\n  const handleClose = () => {\n    handleCloseToParent();\n  };\n\n  const handleBuy = () => {\n    createOrder({\n      email: emailInput,\n      artid: tile.artid\n    }).then(order_response => {\n      console.log(\"order_response: \", order_response);\n\n      if (order_response.hasOwnProperty(\"data\") && order_response.data.hasOwnProperty(\"account\") && order_response.data.hasOwnProperty(\"memo\")) {\n        setTargetAccount(order_response.data.account);\n        setTargetMemo(order_response.data.memo);\n        setPayMode(true);\n      }\n    }); //handleCloseToParent();\n  };\n\n  const handlePay = () => {\n    handleCloseToParent();\n  };\n\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: true,\n    onClose: handleClose,\n    \"aria-labelledby\": \"form-dialog-title\",\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      id: \"form-dialog-title\",\n      children: [\"Buy \", tile.title, \" by \", tile.artist]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n      children: [/*#__PURE__*/_jsxDEV(DialogContentText, {\n        children: \"Please enter email and press buy. Then paymentinfo will show up. Download info will be sent per email when payment is received.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), !payMode ? /*#__PURE__*/_jsxDEV(TextField, {\n        autoFocus: true,\n        margin: \"dense\",\n        id: \"email\",\n        label: \"Email Address\",\n        type: \"email\",\n        fullWidth: true,\n        onChange: event => setEmailInput(event.target.value),\n        value: emailInput\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this) : null, payMode ? /*#__PURE__*/_jsxDEV(React.Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          id: \"target-account\",\n          label: \"Target account\",\n          value: targetAccount,\n          fullWidth: true,\n          InputProps: {\n            readOnly: true\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          id: \"target-memo\",\n          label: \"Target memo\",\n          value: targetMemo,\n          InputProps: {\n            readOnly: true\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleClose,\n        color: \"primary\",\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), !payMode ? /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleBuy,\n        color: \"primary\",\n        children: \"Buy\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this) : null, payMode ? /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handlePay,\n        color: \"primary\",\n        children: \"Pay\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n\n_s(FormDialog, \"fUHTnJT9ZvqeLTG+lmZU8piJo+Y=\");\n\n_c = FormDialog;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormDialog\");","map":{"version":3,"sources":["/home/gunstein/koding/stellar_testing/stellar_art_gallery/client/art_gallery/src/components/OrderForm.js"],"names":["React","useState","Button","TextField","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","createOrder","FormDialog","handleCloseToParent","tile","emailInput","setEmailInput","payMode","setPayMode","targetAccount","setTargetAccount","targetMemo","setTargetMemo","handleClose","handleBuy","email","artid","then","order_response","console","log","hasOwnProperty","data","account","memo","handlePay","title","artist","event","target","value","readOnly"],"mappings":"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","sourcesContent":["import React, { useState} from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport { createOrder } from \"../services/order\";\n\nexport default function FormDialog({ handleCloseToParent, tile }) {\n  //const [open, setOpen] = React.useState(false);\n  const [emailInput, setEmailInput] = useState(\"\");\n  const [payMode, setPayMode] = useState(false);\n  const [targetAccount, setTargetAccount] = useState(\"\");\n  const [targetMemo, setTargetMemo] = useState(\"\");\n\n  const handleClose = () => {\n    handleCloseToParent();\n  };\n\n  const handleBuy = () => {\n    createOrder({email:emailInput, artid:tile.artid})\n    .then(order_response => {\n      console.log(\"order_response: \", order_response)\n      if(order_response.hasOwnProperty(\"data\") && order_response.data.hasOwnProperty(\"account\") && order_response.data.hasOwnProperty(\"memo\"))\n      {\n        setTargetAccount(order_response.data.account)\n        setTargetMemo(order_response.data.memo)\n        setPayMode(true)\n      }\n    })\n    //handleCloseToParent();\n  };\n\n  const handlePay = () => {\n    handleCloseToParent();\n  };\n\n  return (\n    <Dialog\n      open={true}\n      onClose={handleClose}\n      aria-labelledby=\"form-dialog-title\"\n    >\n      <DialogTitle id=\"form-dialog-title\">\n        Buy {tile.title} by {tile.artist}\n      </DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          Please enter email and press buy. Then paymentinfo will show up. Download info will be sent per email when payment is received.\n        </DialogContentText>\n        {!payMode ? (\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            id=\"email\"\n            label=\"Email Address\"\n            type=\"email\"\n            fullWidth\n            onChange={event => setEmailInput(event.target.value)} \n            value={emailInput}\n          />\n        ) : null}\n        {payMode ? (\n          <React.Fragment>\n            <TextField\n              id=\"target-account\"\n              label=\"Target account\"\n              value={targetAccount}\n              fullWidth={true}\n              InputProps={{\n                readOnly: true,\n              }}\n            />\n            <TextField\n              id=\"target-memo\"\n              label=\"Target memo\"\n              value={targetMemo}\n              InputProps={{\n                readOnly: true,\n              }}\n            />  \n          </React.Fragment>        \n        ) : null}\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleClose} color=\"primary\">\n          Cancel\n        </Button>\n        {!payMode ? (\n          <Button onClick={handleBuy} color=\"primary\">\n            Buy\n          </Button>\n        ) : null}  \n        {payMode ? (\n          <Button onClick={handlePay} color=\"primary\">\n            Pay\n          </Button>      \n        ) : null}        \n      </DialogActions>\n    </Dialog>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}